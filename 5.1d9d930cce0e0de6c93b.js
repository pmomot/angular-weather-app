(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"/1UV":function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),u=function(){return function(){}}(),o=t("pMnS"),r=function(){function n(){}return n.prototype.transform=function(n){return Array.from({length:n},function(n,l){return l})},n}(),i=t("Ip0R");function c(n){return n}var s=function(){return function(){this.trackByIndex=c}}(),a=e.mb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex-direction:column}.cws-item[_ngcontent-%COMP%]{height:240px;padding:16px;display:flex;flex-direction:column;justify-content:space-between}.cws-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.cws-row__text[_ngcontent-%COMP%]{width:30%}"]],data:{}});function f(n){return e.Bb(0,[(n()(),e.ob(0,0,null,null,2,"div",[["class","cws-row"]],null,null,null,null,null)),(n()(),e.ob(1,0,null,null,0,"div",[["class","skeleton-block cws-row__text"]],null,null,null,null,null)),(n()(),e.ob(2,0,null,null,0,"div",[["class","skeleton-block cws-row__text"]],null,null,null,null,null))],null,null)}function b(n){return e.Bb(2,[e.wb(0,r,[]),(n()(),e.ob(1,0,null,null,3,"div",[["class","cws-item"]],null,null,null,null,null)),(n()(),e.fb(16777216,null,null,2,null,f)),e.nb(3,278528,null,0,i.j,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),e.xb(4,1)],function(n,l){var t=l.component,u=e.Ab(l,3,0,n(l,4,0,e.vb(l,0),2));n(l,3,0,u,t.trackByIndex)},null)}var w=function(){return function(n){this.id=n.id,this.name=n.name,this.avgTemperature=+((n.main.temp_min+n.main.temp_max)/2).toFixed(1),this.windSpeed=n.wind.speed,this.imageSrc="assets/images/cities/"+n.id+".jpg"}}(),d=function(){function n(n){this.forecastItemsCount=3,this.id=n.city.id,this.forecast=this.prepareForecast(n.list)}return n.prototype.prepareForecast=function(n){var l=new Date(n[0].dt_txt).getTime()>=Date.now()?0:1,t=n.slice(l,this.forecastItemsCount+l);return this.parseForecast(t)},n.prototype.parseForecast=function(n){return n.map(function(n){return{temperature:+n.main.temp.toFixed(1),windSpeed:n.wind.speed,ts:n.dt_txt}})},n}(),p=function(){function n(){this.loadMoreInfo=new e.l,this.trackByIndex=c,this.showBack=!1}return n.prototype.showMore=function(){this.showBack=!0,this.loadMoreInfo.emit(this.cityWeather.id)},n}(),h=e.mb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex-direction:column;-webkit-perspective:1000px;perspective:1000px}.cwc-inner[_ngcontent-%COMP%]{position:relative;width:100%;height:240px;text-align:center;transition:-webkit-transform .8s;transition:transform .8s;transition:transform .8s,-webkit-transform .8s;-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.cwc-inner--back[_ngcontent-%COMP%]{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}.cwc-back[_ngcontent-%COMP%], .cwc-front[_ngcontent-%COMP%]{position:absolute;width:100%;height:240px;padding:16px;display:flex;flex-direction:column;justify-content:space-between;-webkit-backface-visibility:hidden;backface-visibility:hidden;background-size:cover}.cwc-front[_ngcontent-%COMP%]{background-color:#bbb;color:#000}.cwc-back[_ngcontent-%COMP%]{-webkit-transform:rotateY(180deg);transform:rotateY(180deg)}.cwc-column[_ngcontent-%COMP%]{display:flex;flex-direction:column}.cwc-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between}.cwc-row__text[_ngcontent-%COMP%]{padding:4px 8px;color:#fff;background-color:rgba(0,0,0,.8);border-radius:4px}.cwc-row__text--medium[_ngcontent-%COMP%]{font-weight:500}.cwc-row__text--yellow[_ngcontent-%COMP%]{color:#ffd400}.cwc-row__text--blue[_ngcontent-%COMP%]{color:#22cbff}.cwc-row__text--date[_ngcontent-%COMP%]{margin-bottom:4px}"]],data:{}});function m(n){return e.Bb(0,[(n()(),e.ob(0,0,null,null,8,"div",[["class","cwc-column"]],null,null,null,null,null)),(n()(),e.ob(1,0,null,null,2,"div",[["class","cwc-row__text cwc-row__text--date"]],null,null,null,null,null)),(n()(),e.zb(2,null,["",""])),e.xb(3,2),(n()(),e.ob(4,0,null,null,4,"div",[["class","cwc-row"]],null,null,null,null,null)),(n()(),e.ob(5,0,null,null,1,"div",[["class","cwc-row__text cwc-row__text--yellow"]],null,null,null,null,null)),(n()(),e.zb(6,null,[""," \u2103"])),(n()(),e.ob(7,0,null,null,1,"div",[["class","cwc-row__text cwc-row__text--blue"]],null,null,null,null,null)),(n()(),e.zb(8,null,[""," meters/sec"]))],null,function(n,l){var t=e.Ab(l,2,0,n(l,3,0,e.vb(l.parent.parent,0),l.context.$implicit.ts,"MMM d, HH:mm"));n(l,2,0,t),n(l,6,0,l.context.$implicit.temperature),n(l,8,0,l.context.$implicit.windSpeed)})}function g(n){return e.Bb(0,[(n()(),e.ob(0,0,null,null,2,null,null,null,null,null,null,null)),(n()(),e.fb(16777216,null,null,1,null,m)),e.nb(2,278528,null,0,i.j,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(n()(),e.fb(0,null,null,0))],function(n,l){var t=l.component;n(l,2,0,t.cityWeatherForecast.forecast,t.trackByIndex)},null)}function _(n){return e.Bb(2,[e.wb(0,i.e,[e.u]),(n()(),e.ob(1,0,null,null,18,"div",[["class","cwc-inner"]],[[2,"cwc-inner--back",null]],null,null,null,null)),(n()(),e.ob(2,0,null,null,10,"div",[["class","cwc-front"]],[[4,"background-image",null]],null,null,null,null)),(n()(),e.ob(3,0,null,null,4,"div",[["class","cwc-row"]],null,null,null,null,null)),(n()(),e.ob(4,0,null,null,1,"div",[["class","cwc-row__text cwc-row__text--yellow"]],null,null,null,null,null)),(n()(),e.zb(5,null,[""," \u2103"])),(n()(),e.ob(6,0,null,null,1,"div",[["class","cwc-row__text cwc-row__text--medium"]],null,null,null,null,null)),(n()(),e.zb(7,null,["",""])),(n()(),e.ob(8,0,null,null,4,"div",[["class","cwc-row"]],null,null,null,null,null)),(n()(),e.ob(9,0,null,null,1,"div",[["class","cwc-row__text cwc-row__text--blue"]],null,null,null,null,null)),(n()(),e.zb(10,null,[""," meters/sec"])),(n()(),e.ob(11,0,null,null,1,"div",[["class","cwc-row__text clickable"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.showMore()&&e),e},null,null)),(n()(),e.zb(-1,null,["More"])),(n()(),e.ob(13,0,null,null,6,"div",[["class","cwc-back"]],[[4,"background-image",null]],null,null,null,null)),(n()(),e.fb(16777216,null,null,1,null,g)),e.nb(15,16384,null,0,i.k,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.ob(16,0,null,null,3,"div",[["class","cwc-row"]],null,null,null,null,null)),(n()(),e.ob(17,0,null,null,0,"div",[],null,null,null,null,null)),(n()(),e.ob(18,0,null,null,1,"div",[["class","cwc-row__text clickable"]],null,[[null,"click"]],function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=0!=(u.showBack=!u.showBack)&&e),e},null,null)),(n()(),e.zb(-1,null,["Less"]))],function(n,l){n(l,15,0,l.component.cityWeatherForecast)},function(n,l){var t=l.component;n(l,1,0,t.showBack),n(l,2,0,"url("+t.cityWeather.imageSrc+")"),n(l,5,0,t.cityWeather.avgTemperature),n(l,7,0,t.cityWeather.name),n(l,10,0,t.cityWeather.windSpeed),n(l,13,0,"url("+t.cityWeather.imageSrc+")")})}var v=t("mrSG"),x=t("K9Ia"),y=t("zo3G"),k=t("pugT"),I=t("mZXl"),O=t("8g8A"),F=t("uMaO"),M=function(n){function l(l,t,e){void 0===l&&(l=Number.POSITIVE_INFINITY),void 0===t&&(t=Number.POSITIVE_INFINITY);var u=n.call(this)||this;return u.scheduler=e,u._events=[],u._infiniteTimeWindow=!1,u._bufferSize=l<1?1:l,u._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(u._infiniteTimeWindow=!0,u.next=u.nextInfiniteTimeWindow):u.next=u.nextTimeWindow,u}return v.c(l,n),l.prototype.nextInfiniteTimeWindow=function(l){var t=this._events;t.push(l),t.length>this._bufferSize&&t.shift(),n.prototype.next.call(this,l)},l.prototype.nextTimeWindow=function(l){this._events.push(new T(this._getNow(),l)),this._trimBufferThenGetEvents(),n.prototype.next.call(this,l)},l.prototype._subscribe=function(n){var l,t=this._infiniteTimeWindow,e=t?this._events:this._trimBufferThenGetEvents(),u=this.scheduler,o=e.length;if(this.closed)throw new O.a;if(this.isStopped||this.hasError?l=k.a.EMPTY:(this.observers.push(n),l=new F.a(this,n)),u&&n.add(n=new I.a(n,u)),t)for(var r=0;r<o&&!n.closed;r++)n.next(e[r]);else for(r=0;r<o&&!n.closed;r++)n.next(e[r].value);return this.hasError?n.error(this.thrownError):this.isStopped&&n.complete(),l},l.prototype._getNow=function(){return(this.scheduler||y.a).now()},l.prototype._trimBufferThenGetEvents=function(){for(var n=this._getNow(),l=this._bufferSize,t=this._windowTime,e=this._events,u=e.length,o=0;o<u&&!(n-e[o].time<t);)o++;return u>l&&(o=Math.max(o,u-l)),o>0&&e.splice(0,o),e},l}(x.a),T=function(){return function(n,l){this.time=n,this.value=l}}(),B=t("67Y/"),C=t("yGQT"),P=t("DwoQ"),S=t("OCh8"),W=function(){function n(n){var l,t;this.store=n,this.loading$=this.store.pipe(Object(C.y)(P.c),(void 0===(l=1)&&(l=Number.POSITIVE_INFINITY),void 0===t&&(t=Number.POSITIVE_INFINITY),function(n){return n.lift(function(n,l,t){var e,u,o=0,r=!1,i=!1;return function(t){o++,e&&!r||(r=!1,e=new M(n,l,void 0),u=t.subscribe({next:function(n){e.next(n)},error:function(n){r=!0,e.error(n)},complete:function(){i=!0,e.complete()}}));var c=e.subscribe(this);return function(){o--,c.unsubscribe(),u&&0===o&&i&&u.unsubscribe()}}}(l,t))})),this.cities$=this.store.pipe(Object(C.y)(P.b),Object(B.a)(function(n){return n.map(function(n){return new w(n)})})),this.forecast$=this.store.pipe(Object(C.y)(P.d),Object(B.a)(function(n){return n.map(function(n){return new d(n)})}),Object(B.a)(function(n){return n.reduce(function(n,l){return n[l.id]=l,n},{})}))}return n.prototype.getWeatherForecast=function(n){this.store.dispatch(new S.b(n))},n.ngInjectableDef=e.S({factory:function(){return new n(e.V(C.l))},token:n,providedIn:"root"}),n}(),N=[2759794,3219973,692818,6458923,2911298],j=function(){function n(n){this.weatherFeatureService=n,this.loading$=this.weatherFeatureService.loading$,this.cities$=this.weatherFeatureService.cities$,this.forecast$=this.weatherFeatureService.forecast$,this.citiesLoadingAmount=N.length,this.trackByIndex=c}return n.prototype.getWeatherForecast=function(n){this.weatherFeatureService.getWeatherForecast(n)},n}(),$=e.mb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:block}.ws-content[_ngcontent-%COMP%]{max-width:1140px;width:100%;margin:0 auto;padding:8px 24px}@media (min-width:600px){.ws-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}}"]],data:{}});function E(n){return e.Bb(0,[(n()(),e.ob(0,0,null,null,1,"wr-city-weather-skeleton",[["class","wr-card"]],null,null,null,b,a)),e.nb(1,49152,null,0,s,[],null,null)],null,null)}function z(n){return e.Bb(0,[(n()(),e.ob(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),e.fb(16777216,null,null,2,null,E)),e.nb(2,278528,null,0,i.j,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),e.xb(3,1),(n()(),e.fb(0,null,null,0))],function(n,l){var t=l.component,u=e.Ab(l,2,0,n(l,3,0,e.vb(l.parent,0),t.citiesLoadingAmount));n(l,2,0,u,t.trackByIndex)},null)}function Y(n){return e.Bb(0,[(n()(),e.ob(0,0,null,null,1,"wr-city-weather-card",[["class","wr-card"]],null,[[null,"loadMoreInfo"]],function(n,l,t){var e=!0;return"loadMoreInfo"===l&&(e=!1!==n.component.getWeatherForecast(t)&&e),e},_,h)),e.nb(1,49152,null,0,p,[],{cityWeather:[0,"cityWeather"],cityWeatherForecast:[1,"cityWeatherForecast"]},{loadMoreInfo:"loadMoreInfo"})],function(n,l){n(l,1,0,l.context.$implicit,l.parent.context.ngIf[l.context.$implicit.id])},null)}function L(n){return e.Bb(0,[(n()(),e.ob(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),e.fb(16777216,null,null,2,null,Y)),e.nb(2,278528,null,0,i.j,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),e.wb(131072,i.b,[e.h]),(n()(),e.fb(0,null,null,0))],function(n,l){var t=l.component;n(l,2,0,e.Ab(l,2,0,e.vb(l,3).transform(t.cities$)),t.trackByIndex)},null)}function A(n){return e.Bb(0,[(n()(),e.fb(16777216,null,null,2,null,L)),e.nb(1,16384,null,0,i.k,[e.O,e.L],{ngIf:[0,"ngIf"]},null),e.wb(131072,i.b,[e.h]),(n()(),e.fb(0,null,null,0))],function(n,l){var t=l.component;n(l,1,0,e.Ab(l,1,0,e.vb(l,2).transform(t.forecast$)))},null)}function G(n){return e.Bb(2,[e.wb(0,r,[]),(n()(),e.ob(1,0,null,null,3,"div",[["class","ws-content"]],null,null,null,null,null)),(n()(),e.fb(16777216,null,null,2,null,z)),e.nb(3,16384,null,0,i.k,[e.O,e.L],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),e.wb(131072,i.b,[e.h]),(n()(),e.fb(0,[["groupWeather",2]],null,0,null,A))],function(n,l){var t=l.component;n(l,3,0,e.Ab(l,3,0,e.vb(l,4).transform(t.loading$)),e.vb(l,5))},null)}function V(n){return e.Bb(0,[(n()(),e.ob(0,0,null,null,1,"ng-component",[],null,null,null,G,$)),e.nb(1,49152,null,0,j,[W],null,null)],null,null)}var X=e.kb("ng-component",j,V,{},{},[]),D=t("t/Na"),K=t("F/XL"),R=function(){function n(n){this.store=n}return n.prototype.resolve=function(){return this.store.dispatch(new S.d(N)),Object(K.a)(!0)},n}(),H=t("PCNd"),J=t("ZYCi"),Q=function(){return function(){}}(),Z=function(){return function(){}}();t.d(l,"WeatherModuleNgFactory",function(){return q});var q=e.lb(u,[],function(n){return e.tb([e.ub(512,e.j,e.ab,[[8,[o.a,X]],[3,e.j],e.y]),e.ub(4608,D.h,D.n,[i.d,e.C,D.l]),e.ub(4608,D.o,D.o,[D.h,D.m]),e.ub(5120,D.a,function(n){return[n]},[D.o]),e.ub(4608,D.k,D.k,[]),e.ub(6144,D.i,null,[D.k]),e.ub(4608,D.g,D.g,[D.i]),e.ub(6144,D.b,null,[D.g]),e.ub(4608,D.f,D.j,[D.b,e.q]),e.ub(4608,D.c,D.c,[D.f]),e.ub(4608,i.m,i.l,[e.u,[2,i.s]]),e.ub(4608,R,R,[C.l]),e.ub(1073742336,D.e,D.e,[]),e.ub(1073742336,D.d,D.d,[]),e.ub(1073742336,i.c,i.c,[]),e.ub(1073742336,H.a,H.a,[]),e.ub(1073742336,J.l,J.l,[[2,J.r],[2,J.k]]),e.ub(1073742336,Q,Q,[]),e.ub(1073742336,Z,Z,[]),e.ub(1073742336,u,u,[]),e.ub(256,D.l,"XSRF-TOKEN",[]),e.ub(256,D.m,"X-XSRF-TOKEN",[]),e.ub(1024,J.i,function(){return[[{path:"",component:j,resolve:[R]}]]},[])])})}}]);